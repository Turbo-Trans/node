{
  "info": {
    "title": "Logistics Management API",
    "version": "1.1.0",
    "description": "API endpoints for user management, warehouses, trucks, products. Updated to support pagination and dynamic filtering."
  },
  "authentication": {
    "type": "JWT",
    "header": "Authorization: Bearer <token>"
  },
  "endpoints": [
    {
      "name": "Login",
      "method": "POST",
      "url": "/login",
      "permission": "Public",
      "body": {
        "username": "string",
        "password": "string"
      },
      "responses": {
        "200": {
          "message": "Giris basarili",
          "token": "jwt-token",
          "user": {
            "userID": "number",
            "username": "string",
            "email": "string",
            "tel": "string",
            "cityID": "number",
            "address": "string",
            "job": "string",
            "warehouseID": "number"
          }
        },
        "400": { "message": "Bilgiler eksik!" },
        "401": { "message": "Kullanici bulunamadi / Yanlis sifre" },
        "500": { "message": "Sunucu hatasi" }
      }
    },
    {
      "name": "Logout",
      "method": "POST",
      "url": "/logout",
      "permission": "Authenticated User",
      "responses": {
        "200": { "message": "Cikis basarili" },
        "500": { "message": "Sunucu hatasi" }
      }
    },
    {
      "name": "Get Countries",
      "method": "GET",
      "url": "/getCountries",
      "permission": [1, 2],
      "responses": {
        "200": [
          {
            "countryID": "number",
            "countryName": "string",
            "phoneCode": "string"
          }
        ],
        "500": { "message": "Error message" }
      }
    },
    {
      "name": "Get Cities",
      "method": "GET",
      "url": "/getCities",
      "permission": [1, 2],
      "query": {
        "id": "number (CountryID - Required)"
      },
      "responses": {
        "200": [
          {
            "cityID": "number",
            "cityName": "string",
            "countryID": "number"
          }
        ],
        "400": { "message": "Bu işlem sadece ID ile çalışır" },
        "500": { "message": "Error message" }
      }
    },
    {
      "name": "Get Users (List)",
      "method": "GET",
      "url": "/getUsers",
      "permission": [1, 2],
      "query": {
        "page": "number (default: 1)",
        "limit": "number (default: 10, max: 100)",
        "username": "string (Partial Match)",
        "email": "string (Partial Match)",
        "job": "string (Partial Match)",
        "cityID": "number",
        "warehouseID": "number",
        "sortBy": "string (default: userID)",
        "sortOrder": "string (ASC or DESC)"
      },
      "responses": {
        "200": {
          "page": 1,
          "limit": 10,
          "total": 50,
          "totalPages": 5,
          "filters": {},
          "data": [
            {
              "userID": "number",
              "username": "string",
              "email": "string",
              "tel": "string",
              "address": "string",
              "job": "string",
              "cityID": "number",
              "warehouseID": "number"
            }
          ]
        },
        "404": { "message": "Kullanıcı bulunamadı." },
        "500": { "error": "Veritabanı hatası." }
      }
    },
    {
      "name": "Add User",
      "method": "POST",
      "url": "/addUser",
      "permission": [1],
      "description": "Password must contain at least 1 uppercase, 1 number, 1 special char, and be 8-64 chars long.",
      "body": {
        "username": "string (required)",
        "password": "string (required)",
        "permission": "number (required)",
        "email": "string",
        "tel": "string",
        "cityID": "number",
        "address": "string",
        "job": "string",
        "warehouseID": "number"
      },
      "responses": {
        "200": { "message": "Islem Basarili" },
        "400": { "message": "Validation error messages (password strength etc.)" },
        "500": { "error": "SQL Hatasi" }
      }
    },
    {
      "name": "Delete User",
      "method": "DELETE",
      "url": "/deleteUser",
      "permission": [1],
      "query": {
        "userID": "number (required)"
      },
      "responses": {
        "200": { "message": "Bilgiler basariyla silindi." },
        "400": { "message": "Kendini silemezsin / Transaction error" },
        "404": { "message": "Belirtilen UserID ile kayit bulunamadi." },
        "500": { "message": "Veritabanı hatası oluştu." }
      }
    },
    {
      "name": "List Warehouses",
      "method": "GET",
      "url": "/getWH",
      "permission": [1],
      "query": {
        "id": "number",
        "name": "string",
        "pageNo": "number (default: 1)"
      },
      "responses": {
        "200": {
          "success": true,
          "page": 1,
          "limit": 10,
          "total": 100,
          "totalPages": 10,
          "data": [
            {
              "warehouseID": "number",
              "warehouseName": "string",
              "warehouseAddress": "string",
              "cityName": "string",
              "countryName": "string"
            }
          ]
        },
        "404": { "message": "Hicbir depo kaydi bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Add Warehouse",
      "method": "POST",
      "url": "/addWH",
      "permission": [1],
      "body": {
        "warehouseName": "string",
        "warehouseCityID": "number (required)",
        "warehouseAddress": "string"
      },
      "responses": {
        "201": { "message": "Depo basariyla eklendi.", "id": "number" },
        "400": { "message": "WarehouseCityID girilmesi zorunludur." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Edit Warehouse",
      "method": "PUT",
      "url": "/editWH",
      "permission": [1],
      "query": { "id": "number (required)" },
      "body": {
        "warehouseName": "string",
        "warehouseCityID": "number",
        "warehouseAddress": "string"
      },
      "responses": {
        "200": { "message": "Depo bilgileri guncellendi." },
        "404": { "message": "Belirtilen ID ile depo bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Delete Warehouse",
      "method": "DELETE",
      "url": "/deleteWH",
      "permission": [1],
      "query": { "id": "number (required)" },
      "responses": {
        "200": { "message": "Depo basariyla silindi." },
        "400": { "message": "Bu depoda urunler veya kullanicilar kayitli oldugu icin silinemez." },
        "404": { "message": "Belirtilen ID ile depo bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Add Truck",
      "method": "POST",
      "url": "/addTruck",
      "permission": [1],
      "body": {
        "truckBrand": "string",
        "truckModel": "string"
      },
      "responses": {
        "201": { "message": "Kamyon basariyla eklendi.", "id": "number" },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Delete Truck",
      "method": "DELETE",
      "url": "/removeTruck",
      "permission": [1],
      "query": { "id": "number (required)" },
      "responses": {
        "200": { "message": "Kamyon basariyla silindi." },
        "400": { "message": "Bu kamyon modeli sisteme kayitli bir araca (TruckInfo) bagli oldugu icin silinemez." },
        "404": { "message": "Belirtilen ID ile kamyon bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "List All Trucks",
      "method": "GET",
      "url": "/listTrucks",
      "permission": [1, 2],
      "query": {
        "page": "number (default: 1)",
        "limit": "number (default: 10)",
        "truckBrand": "string (Partial Match)",
        "truckModel": "string (Partial Match)"
      },
      "responses": {
        "200": {
          "data": [
            {
              "truckID": "number",
              "truckBrand": "string",
              "truckModel": "string"
            }
          ],
          "pagination": {
            "totalItems": "number",
            "totalPages": "number",
            "currentPage": "number",
            "itemsPerPage": "number"
          }
        },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Add Truck Info (Plate)",
      "method": "POST",
      "url": "/addTruckInfo",
      "permission": [1],
      "body": {
        "plate": "string (required)",
        "truckID": "number (required)"
      },
      "responses": {
        "201": { "message": "Arac bilgisi basariyla eklendi.", "id": "number" },
        "400": { "message": "Plaka ve TruckID girilmesi zorunludur." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Edit Truck Info",
      "method": "PUT",
      "url": "/editTruckInfo",
      "permission": [1],
      "query": { "id": "number (required)" },
      "body": {
        "plate": "string",
        "truckID": "number"
      },
      "responses": {
        "200": { "message": "Arac bilgileri guncellendi." },
        "404": { "message": "Belirtilen ID ile arac bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Delete Truck Info",
      "method": "DELETE",
      "url": "/removeTruckInfo",
      "permission": [1],
      "query": { "id": "number (required)" },
      "responses": {
        "200": { "message": "Arac basariyla silindi." },
        "400": { "message": "Bu arac bir kombinasyonda (Combination) kullanildigi icin silinemez." },
        "404": { "message": "Belirtilen ID ile arac bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "List Truck Info",
      "method": "GET",
      "url": "/listTruckInfo",
      "permission": [1, 2],
      "query": {
        "page": "number (default: 1)",
        "limit": "number (default: 10)",
        "plate": "string (Partial Match)",
        "truckBrand": "string (Partial Match)",
        "truckModel": "string (Partial Match)"
      },
      "responses": {
        "200": {
          "data": [
            {
              "truckInfoID": "number",
              "plate": "string",
              "truckBrand": "string",
              "truckModel": "string"
            }
          ],
          "pagination": {
            "totalItems": "number",
            "totalPages": "number",
            "currentPage": "number",
            "itemsPerPage": "number"
          }
        },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "Edit Product",
      "method": "PUT",
      "url": "/editProduct",
      "permission": [1],
      "query": { "id": "number" },
      "body": {
        "productShape": "string",
        "weight": "number",
        "dimensionX": "number",
        "dimensionY": "number",
        "dimensionZ": "number",
        "isBreakable": "boolean",
        "sender": "string",
        "warehouse": "number"
      },
      "responses": {
        "200": { "message": "Urun bilgileri guncellendi." },
        "404": { "message": "Urun bulunamadi." },
        "500": { "error": "Veritabani hatasi." }
      }
    },
    {
      "name": "List All Products",
      "method": "GET",
      "url": "/listProducts",
      "permission": [1, 2],
      "description": "Returns products with joined warehouse and status details. No pagination.",
      "responses": {
        "200": [
          {
            "productID": "number",
            "productShape": "string",
            "weight": "number",
            "dimensionX": "number",
            "dimensionY": "number",
            "dimensionZ": "number",
            "isBreakable": "boolean",
            "sender": "string",
            "warehouse": "number",
            "warehouseName": "string",
            "statusID": "number",
            "statusName": "string",
            "statusDate": "datetime",
            "dateReceived": "datetime"
          }
        ],
        "500": { "error": "Veritabani hatasi." }
      }
    }
  ]
}